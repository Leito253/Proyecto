{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useLocation,Link,useNavigate}from\"react-router-dom\";import BookCard from\"../components/BookCard\";import\"../Styles/PaginaPrincipal.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Buscar(){const[libros,setLibros]=useState([]);const[loading,setLoading]=useState(true);const location=useLocation();const navigate=useNavigate();// üëà para volver atr√°s\nconst query=new URLSearchParams(location.search).get(\"query\");useEffect(()=>{if(!query)return;setLoading(true);fetch(\"http://localhost:5072/api/Libros/buscar?query=\".concat(encodeURIComponent(query))).then(res=>{if(!res.ok)throw new Error(\"Error al obtener resultados\");return res.json();}).then(data=>{setLibros(data);setLoading(false);}).catch(err=>{console.error(\"Error en b√∫squeda:\",err);setLoading(false);});},[query]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"cargando\",children:\"Buscando libros...\"});return/*#__PURE__*/_jsxs(\"main\",{className:\"pagina-principal\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-volver\",onClick:()=>navigate(-1),children:\"\\u2B05 Volver\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"titulo\",children:[\"\\uD83D\\uDD0D Resultados para: \\\"\",query,\"\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:libros.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No se encontraron resultados.\"}):libros.map(libro=>/*#__PURE__*/_jsx(Link,{to:\"/libro/\".concat(libro.id),className:\"book-link\",children:/*#__PURE__*/_jsx(BookCard,{title:libro.titulo,author:libro.autor,cover:libro.urlPortada})},libro.id))})]});}","map":{"version":3,"names":["useEffect","useState","useLocation","Link","useNavigate","BookCard","jsx","_jsx","jsxs","_jsxs","Buscar","libros","setLibros","loading","setLoading","location","navigate","query","URLSearchParams","search","get","fetch","concat","encodeURIComponent","then","res","ok","Error","json","data","catch","err","console","error","className","children","onClick","length","map","libro","to","id","title","titulo","author","autor","cover","urlPortada"],"sources":["/mnt/Datos/Repos/Proyecto/Frontend/src/pages/Buscar.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useLocation, Link, useNavigate } from \"react-router-dom\";\nimport BookCard from \"../components/BookCard\";\nimport \"../Styles/PaginaPrincipal.css\";\n\nexport default function Buscar() {\n    const [libros, setLibros] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const location = useLocation();\n    const navigate = useNavigate(); // üëà para volver atr√°s\n\n    const query = new URLSearchParams(location.search).get(\"query\");\n\n    useEffect(() => {\n        if (!query) return;\n\n        setLoading(true);\n        fetch(`http://localhost:5072/api/Libros/buscar?query=${encodeURIComponent(query)}`)\n            .then((res) => {\n                if (!res.ok) throw new Error(\"Error al obtener resultados\");\n                return res.json();\n            })\n            .then((data) => {\n                setLibros(data);\n                setLoading(false);\n            })\n            .catch((err) => {\n                console.error(\"Error en b√∫squeda:\", err);\n                setLoading(false);\n            });\n    }, [query]);\n\n    if (loading) return <div className=\"cargando\">Buscando libros...</div>;\n\n    return (\n        <main className=\"pagina-principal\">\n            <button className=\"btn-volver\" onClick={() => navigate(-1)}>\n                ‚¨Ö Volver\n            </button>\n\n            <h1 className=\"titulo\">üîç Resultados para: \"{query}\"</h1>\n\n            <div className=\"grid\">\n                {libros.length === 0 ? (\n                    <p>No se encontraron resultados.</p>\n                ) : (\n                    libros.map((libro) => (\n                        <Link key={libro.id} to={`/libro/${libro.id}`} className=\"book-link\">\n                            <BookCard\n                                title={libro.titulo}\n                                author={libro.autor}\n                                cover={libro.urlPortada}\n                            />\n                        </Link>\n                    ))\n                )}\n            </div>\n        </main>\n    );\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC7B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAAc,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAAE;AAEhC,KAAM,CAAAa,KAAK,CAAG,GAAI,CAAAC,eAAe,CAACH,QAAQ,CAACI,MAAM,CAAC,CAACC,GAAG,CAAC,OAAO,CAAC,CAE/DpB,SAAS,CAAC,IAAM,CACZ,GAAI,CAACiB,KAAK,CAAE,OAEZH,UAAU,CAAC,IAAI,CAAC,CAChBO,KAAK,kDAAAC,MAAA,CAAkDC,kBAAkB,CAACN,KAAK,CAAC,CAAE,CAAC,CAC9EO,IAAI,CAAEC,GAAG,EAAK,CACX,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAC3D,MAAO,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CACrB,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,EAAK,CACZjB,SAAS,CAACiB,IAAI,CAAC,CACff,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACDgB,KAAK,CAAEC,GAAG,EAAK,CACZC,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAEF,GAAG,CAAC,CACxCjB,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACV,CAAC,CAAE,CAACG,KAAK,CAAC,CAAC,CAEX,GAAIJ,OAAO,CAAE,mBAAON,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,oBAAkB,CAAK,CAAC,CAEtE,mBACI1B,KAAA,SAAMyB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC9B5B,IAAA,WAAQ2B,SAAS,CAAC,YAAY,CAACE,OAAO,CAAEA,CAAA,GAAMpB,QAAQ,CAAC,CAAC,CAAC,CAAE,CAAAmB,QAAA,CAAC,eAE5D,CAAQ,CAAC,cAET1B,KAAA,OAAIyB,SAAS,CAAC,QAAQ,CAAAC,QAAA,EAAC,kCAAqB,CAAClB,KAAK,CAAC,IAAC,EAAI,CAAC,cAEzDV,IAAA,QAAK2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAChBxB,MAAM,CAAC0B,MAAM,GAAK,CAAC,cAChB9B,IAAA,MAAA4B,QAAA,CAAG,+BAA6B,CAAG,CAAC,CAEpCxB,MAAM,CAAC2B,GAAG,CAAEC,KAAK,eACbhC,IAAA,CAACJ,IAAI,EAAgBqC,EAAE,WAAAlB,MAAA,CAAYiB,KAAK,CAACE,EAAE,CAAG,CAACP,SAAS,CAAC,WAAW,CAAAC,QAAA,cAChE5B,IAAA,CAACF,QAAQ,EACLqC,KAAK,CAAEH,KAAK,CAACI,MAAO,CACpBC,MAAM,CAAEL,KAAK,CAACM,KAAM,CACpBC,KAAK,CAAEP,KAAK,CAACQ,UAAW,CAC3B,CAAC,EALKR,KAAK,CAACE,EAMX,CACT,CACJ,CACA,CAAC,EACJ,CAAC,CAEf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}